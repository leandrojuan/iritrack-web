
    %namezone = []
    %for i in zonename:
        %namezone.append(i)
    %end

    
    %resulttime = []
    %for i in timeresult:
        %resulttime.append(i)
    %end

    %resultzone = []
    %for i in zoneresult:
        %resultzone.append(i)
    %end

    %vehicle = []
    %for i in vehiculo:
        %vehicle.append(i)
    %end

    %starttime = []
    %for i in startime:
        %starttime.append(i)
    %end
%col = 2 + (len(namezone))*2

%include('base2.html')
<html>
<head>
    <style type="text/css">
 body{
  font:1.2em normal Arial,sans-serif;
  color:#34495E;
}

h1{
  text-align:center;
  text-transform:uppercase;
  letter-spacing:-2px;
  font-size:2.5em;
  margin:20px 0;
}

.container{
  width:90%;
  margin:auto;
}

table{
  border-collapse:collapse;
  width:100%;
}

.blue{
  border:2px solid #1ABC9C;
}

.blue thead{
  background:#1ABC9C;
}

.purple{
  border:2px solid #9B59B6;
}

.purple thead{
  background:#9B59B6;
}

thead{
  color:white;
}

th,td{
  text-align:center;
  padding:5px 0;
}

tbody tr:nth-child(even){
  background:#ECF0F1;
}

tbody tr:hover{
background:#BDC3C7;
  color:#FFFFFF;
}

.fixed{
  top:0;
  position:fixed;
  width:auto;
  display:none;
  border:none;
}

.scrollMore{
  margin-top:600px;
}

.up{
  cursor:pointer;
}
    </style>
    <script language="Javascript">  
        function mostrar(nombreCapa){  
        document.getElementById(nombreCapa).style.visibility="visible";  
        }  
        function ocultar(nombreCapa){  
        document.getElementById(nombreCapa).style.visibility="hidden";  
        }  
    </script>
<script language="Javascript">
    function redireccionar() {
        setTimeout(function(){

                                if (document.getElementById("acepto").checked)
                                {
                                    location.href='/resultado/update';
                                }

                             }, "600000");
    }

    </script>
    <script language="javascript">

function mostrarFormulario(id)
{
    var contenedor=document.getElementById(id);
    contenedor.style.display="block";
}
</script>

<!--<META HTTP-EQUIV="REFRESH" CONTENT="30;URL=/resultado/update/{{stage_id}}"> -->
</head>
    
<body onload="redireccionar()">
     
    <div class="panel panel-default">

      <div class="panel-heading"><b>Result from Drivers</b></div>
        <div class="panel-body">
            
            <span>
            <form action="/resultado/update/{{stage_id}}" method="post" style="display:inline">
                <i><input type="submit" value="Update Now" onclick="mostrarFormulario('capa2')"></i> 
            </form>
            <form name="form1" onsubmit="return redireccionar()">
            <span><input type="checkbox" name="acepto" id ="acepto" checked onClick="redireccionar()"><label for="acepto"><i>(The page will update every five minutes)</i><label></span>
        </form>
        </span>
                <div style="display:none" id="capa2">
                    <center><img align="center" src="/static/cargando2.gif"></center>
                </div>
            </div>
        </div>
                <span>
                <form action="/resultado/show" method="post">
                    <div  class="panel panel-default">
                        <div class="panel-heading"><strong>Stage Id NÂº:
                        <input name="stage" type="text" size="1"  value="{{stage_id}}">
                         <input id="capa1" type="submit" value="Search" onclick="mostrarFormulario('capa2')"></strong>
                        <div style="text-align:right;"><b>Stage {{stage_id}} from {{count}}</b></div>    
                    </div>
                </form>     
            </span>   
             
           <h1>&darr; SCROLL &darr;</h1>
            <table class="blue table-bordered">
           
           <thead>         
        <tr>
            <th bgcolor="#585858"><FONT COLOR=WHITE SIZE=2><center><b> Vehicle</b> </th>
            <th bgcolor="#585858"><FONT COLOR=WHITE SIZE=2><center><b>Start Time</b></th>
            %for j in zonename:
                <th bgcolor="#585858" colspan="2"><FONT COLOR=WHITE SIZE=2><center><b> Stage {{j}}</b></th>
            %end
        </tr>

        <tr>
            <th bgcolor="#6E6E6E"><FONT COLOR=WHITE SIZE=1>#</th>
            <th bgcolor="#6E6E6E"><FONT COLOR=WHITE SIZE=1>#</th>
            %for a in range(len(namezone)):
                <th bgcolor="#6E6E6E"><FONT COLOR=WHITE SIZE=1><center>Arrive</th>
                <th bgcolor="#6E6E6E"><FONT COLOR=WHITE SIZE=1><center>Diff</th>
            %end
        </tr>
        </thead>
        
        <tbody align="center"> 
        %for q in range(len(vehicle)):
            <tr>

                <td><FONT SIZE=1><center>{{vehicle[q]}}</p></td>
                <td><FONT SIZE=1><center>{{starttime[q]}}</p></td>
                %for k in range(len(namezone)):
                    % t = (q*len(namezone))+ k
                    %if resulttime[t] == ' ':
                        
                        <td class="danger"><FONT SIZE=1><center>{{resulttime[t]}}</td>
                        <td class="danger"><FONT SIZE=1><center>{{resultzone[t]}}</td>
                       
                    %else:
            
                        <td class="success"><FONT SIZE=1><center>{{resulttime[t]}}</p></td>
                        <td class="success"><FONT SIZE=1><center>{{resultzone[t]}}</p></td>

                    % end
                %end
        %end

            </tr>
        </tbody>
    </table>
    <h1 class="up scrollMore">&uarr; UP &uarr;</h1>
    <script type="text/javascript">
            ;(function($) {
   $.fn.fixMe = function() {
      return this.each(function() {
         var $this = $(this),
            $t_fixed;
         function init() {
            $this.wrap('<div class="container" />');
            $t_fixed = $this.clone();
            $t_fixed.find("tbody").remove().end().addClass("fixed").insertBefore($this);
            resizeFixed();
         }
         function resizeFixed() {
            $t_fixed.find("th").each(function(index) {
               $(this).css("width",$this.find("th").eq(index).outerWidth()+"px");
            });
         }
         function scrollFixed() {
            var offset = $(this).scrollTop(),
            tableOffsetTop = $this.offset().top,
            tableOffsetBottom = tableOffsetTop + $this.height() - $this.find("thead").height();
            if(offset < tableOffsetTop || offset > tableOffsetBottom)
               $t_fixed.hide();
            else if(offset >= tableOffsetTop && offset <= tableOffsetBottom && $t_fixed.is(":hidden"))
               $t_fixed.show();
         }
         $(window).resize(resizeFixed);
         $(window).scroll(scrollFixed);
         init();
      });
   };
})(jQuery);

$(document).ready(function(){
   $("table").fixMe();
   $(".up").click(function() {
      $('html, body').animate({
      scrollTop: 0
   }, 2000);
 });
});
    </script>
    <a href="/result/deletall">Delete All Data</a>
    
</body>
</html>